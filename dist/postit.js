/*
 * PostIt v0.3.0
 * Copyright 2015 coopersemantics
 * Available under MIT license <https://github.com/outbrain/postit/blob/master/LICENSE>
 * @Date Wed Sep 23 2015 18:25:17 GMT-0400 (EDT)
 */
!function t(e,r,n){function i(s,u){if(!r[s]){if(!e[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=r[s]={exports:{}};e[s][0].call(c.exports,function(t){var r=e[s][1][t];return i(r?r:t)},c,c.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,r){"use strict";var n=t("./postit"),i={},o=e.exports={};o.create=function(t){var e=i[t];return e?e:i[t]=new n(t)},o.destroy=function(t){delete i[t]},o.get=function(t){return i[t]},o.getAll=function(){return i}},{"./postit":5}],2:[function(t,e,r){"use strict";window.PostIt=t("./manager")},{"./manager":4}],3:[function(t,e,r){"use strict";var n=e.exports={};n.serialize=function(t){var e=[];for(var r in t)e.push(r+"="+t[r]);return e.join(", ")},n.shallowMerge=function(t,e){for(var r in e)null!=e[r]&&(t[r]=e[r]);return t},n.openWindow=function(t){var e=this,r=screen||{},n=window,i=document,o=i.documentElement||{},s=n.screenLeft||r.left||0,u=n.screenTop||r.top||0,a=n.innerWidth||o.clientWidth||r.width||0,c=n.innerHeight||o.clientHeight||r.height||0,f=a/2-t.width/2+s,l=c/2-t.height/2+u,h=e.serialize(e.shallowMerge({top:l,left:f},t)),v=n.open(t.url,t.title,h);return n.focus&&v.focus(),v}},{}],4:[function(t,e,r){"use strict";var n=t("./factory"),i=t("./helpers"),o=e.exports={};o.add=function(t){var e=this;return"string"!=typeof t?(console.error(t+" should be a `String`."),e):(n.create(t),e)},o.remove=function(t){var e=this,r=e.get(t);if(!r)return e;for(var i in r.listeners)r.off(i);return n.destroy(t),e},o.removeAll=function(){var t=this,e=t.getAll();for(var r in e)t.remove(r);return t},o.size=function(){var t=0,e=this.getAll();for(var r in e)t++;return t},o.get=function(t){return n.get(t)||console.error(t+" does not match any `PostIt` instances.")},o.getAll=function(){return n.getAll()},o.on=function(t,e,r){var n=this,i=n.get(t);return i?(i.on(e,r),n):n},o.off=function(t,e,r){var n=this,i=n.get(t);return i?(i.off(e,r),n):n},o.emit=function(t,e,r,n,i){var o=this,s=o.get(t);return s?(s.emit(e,r,n,i),o):o},o.openWindow=function(t){return i.openWindow(t||{})}},{"./factory":1,"./helpers":3}],5:[function(t,e,r){"use strict";var n=e.exports=function(t){this.id=t,this.token=0,this.listeners={}};n.prototype.on=function(t,e){var r=this;r.listeners[t]=r.listeners[t]||[];var n=function(n){if("*"===t)return e.call(this,n);if(/__event\s?"/.test(n.data)){var i;try{i=JSON.parse(n.data)}catch(o){return}n.dataParsed=i,t===i.__event&&r.id===i.__id&&e.call(this,n)}};return e.__token=n.__token=r.token++,window.addEventListener("message",n,!1),r.listeners[t].push(n),r},n.prototype.off=function(t,e){for(var r=this,n=r.listeners[t]||[],i=0;i<n.length;++i)e&&e.__token!==n[i].__token||(window.removeEventListener("message",n[i],!1),n.splice(i,1),--i);return r},n.prototype.emit=function(t,e,r,n){var i=this;switch(Object.prototype.toString.call(r)){case"[object Function]":return console.error(r+" should either be an `Object`, `Array` or a `String`."),i;case"[object Object]":r.__event=t,r.__id=i.id,r=JSON.stringify(r);break;default:r=JSON.stringify({__value:r,__id:i.id,__event:t})}return e.postMessage(r,n),i}},{}]},{},[2]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvb3RzdHJhcC5qcyJdLCJuYW1lcyI6WyJlIiwidCIsIm4iLCJyIiwicyIsIm8iLCJ1IiwiYSIsInJlcXVpcmUiLCJpIiwiRXJyb3IiLCJmIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLDEsIm1vZHVsZSIsIlBvc3RJdCIsImluc3RhbmNlcyIsIkZhY3RvcnkiLCJjcmVhdGUiLCJpZCIsImluc3RhbmNlIiwiZGVzdHJveSIsImdldCIsImdldEFsbCIsIi4vcG9zdGl0IiwyLCJ3aW5kb3ciLCIuL21hbmFnZXIiLDMsImhlbHBlcnMiLCJzZXJpYWxpemUiLCJwYXJhbXMiLCJfcGFyYW1zIiwicGFyYW0iLCJwdXNoIiwiam9pbiIsInNoYWxsb3dNZXJnZSIsImRlc3RpbmF0aW9uIiwic291cmNlIiwicHJvcCIsIm9wZW5XaW5kb3ciLCJvcHRpb25zIiwidGhhdCIsInRoaXMiLCJuYXRpdmVTY3JlZW4iLCJzY3JlZW4iLCJuYXRpdmVXaW5kb3ciLCJuYXRpdmVEb2N1bWVudCIsImRvY3VtZW50IiwibmF0aXZlRG9jdW1lbnRFbGVtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiZHVhbFNjcmVlbkxlZnQiLCJzY3JlZW5MZWZ0IiwibGVmdCIsImR1YWxTY3JlZW5Ub3AiLCJzY3JlZW5Ub3AiLCJ0b3AiLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJjbGllbnRXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiZmVhdHVyZXMiLCJuZXdXaW5kb3ciLCJvcGVuIiwidXJsIiwidGl0bGUiLCJmb2N1cyIsNCwiTWFuYWdlciIsImFkZCIsImNvbnNvbGUiLCJlcnJvciIsInJlbW92ZSIsInJlY29yZCIsImV2ZW50IiwibGlzdGVuZXJzIiwib2ZmIiwicmVtb3ZlQWxsIiwicmVjb3JkcyIsInNpemUiLCJvbiIsImxpc3RlbmVyIiwiZW1pdCIsInRhcmdldCIsIm1lc3NhZ2UiLCJvcmlnaW4iLCIuL2ZhY3RvcnkiLCIuL2hlbHBlcnMiLDUsInRva2VuIiwicHJvdG90eXBlIiwid3JhcExpc3RlbmVyIiwiZXZ0IiwidGVzdCIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJlcnIiLCJkYXRhUGFyc2VkIiwiX19ldmVudCIsIl9faWQiLCJfX3Rva2VuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzcGxpY2UiLCJPYmplY3QiLCJ0b1N0cmluZyIsInN0cmluZ2lmeSIsIl9fdmFsdWUiLCJwb3N0TWVzc2FnZSJdLCJtYXBwaW5ncyI6IkNBQUEsUUFBVUEsR0FBRUMsRUFBRUMsRUFBRUMsR0FBRyxRQUFTQyxHQUFFQyxFQUFFQyxHQUFHLElBQUlKLEVBQUVHLEdBQUcsQ0FBQyxJQUFJSixFQUFFSSxHQUFHLENBQUMsR0FBSUUsR0FBa0Isa0JBQVRDLFVBQXFCQSxPQUFRLEtBQUlGLEdBQUdDLEVBQUUsTUFBT0EsR0FBRUYsR0FBRSxFQUFJLElBQUdJLEVBQUUsTUFBT0EsR0FBRUosR0FBRSxFQUFJLE1BQU0sSUFBSUssT0FBTSx1QkFBdUJMLEVBQUUsS0FBSyxHQUFJTSxHQUFFVCxFQUFFRyxJQUFJTyxXQUFZWCxHQUFFSSxHQUFHLEdBQUdRLEtBQUtGLEVBQUVDLFFBQVEsU0FBU1osR0FBRyxHQUFJRSxHQUFFRCxFQUFFSSxHQUFHLEdBQUdMLEVBQUcsT0FBT0ksR0FBRUYsRUFBRUEsRUFBRUYsSUFBSVcsRUFBRUEsRUFBRUMsUUFBUVosRUFBRUMsRUFBRUMsRUFBRUMsR0FBRyxNQUFPRCxHQUFFRyxHQUFHTyxRQUFrRCxJQUFJLEdBQTFDSCxHQUFrQixrQkFBVEQsVUFBcUJBLFFBQWdCSCxFQUFFLEVBQUVBLEVBQUVGLEVBQUVXLE9BQU9ULElBQUlELEVBQUVELEVBQUVFLEdBQUksT0FBT0QsS0FBS1csR0FBRyxTQUFTUCxFQUFRUSxFQUFPSixHQUNyYixZQUVBLElBQUlLLEdBQVNULEVBQVEsWUFDakJVLEtBT0FDLEVBQVVILEVBQU9KLFVBU3JCTyxHQUFRQyxPQUFTLFNBQVVDLEdBQzFCLEdBQUlDLEdBQVdKLEVBQVVHLEVBR3pCLE9BQUlDLEdBQ0lBLEVBSUFKLEVBQVVHLEdBQU0sR0FBSUosR0FBT0ksSUFVcENGLEVBQVFJLFFBQVUsU0FBVUYsU0FDcEJILEdBQVVHLElBVWxCRixFQUFRSyxJQUFNLFNBQVVILEdBQ3ZCLE1BQU9ILEdBQVVHLElBU2xCRixFQUFRTSxPQUFTLFdBQ2hCLE1BQU9QLE1BR0xRLFdBQVcsSUFBSUMsR0FBRyxTQUFTbkIsRUFBUVEsRUFBT0osR0FDN0MsWUFPQWdCLFFBQU9YLE9BQVNULEVBQVEsZUFFckJxQixZQUFZLElBQUlDLEdBQUcsU0FBU3RCLEVBQVFRLEVBQU9KLEdBQzlDLFlBT0EsSUFBSW1CLEdBQVVmLEVBQU9KLFVBU3JCbUIsR0FBUUMsVUFBWSxTQUFVQyxHQUM3QixHQUFJQyxLQUVKLEtBQUssR0FBSUMsS0FBU0YsR0FDakJDLEVBQVFFLEtBQUtELEVBQVEsSUFBTUYsRUFBT0UsR0FHbkMsT0FBT0QsR0FBUUcsS0FBSyxPQVdyQk4sRUFBUU8sYUFBZSxTQUFVQyxFQUFhQyxHQUM3QyxJQUFLLEdBQUlDLEtBQVFELEdBQ1osTUFBUUEsRUFBT0MsS0FDbEJGLEVBQVlFLEdBQVFELEVBQU9DLEdBSTdCLE9BQU9GLElBZ0JSUixFQUFRVyxXQUFhLFNBQVVDLEdBQzlCLEdBQUlDLEdBQU9DLEtBQ1BDLEVBQWVDLFdBQ2ZDLEVBQWVwQixPQUNmcUIsRUFBaUJDLFNBQ2pCQyxFQUF3QkYsRUFBZUcsb0JBQ3ZDQyxFQUFpQkwsRUFBYU0sWUFBY1IsRUFBYVMsTUFBUSxFQUNqRUMsRUFBZ0JSLEVBQWFTLFdBQWFYLEVBQWFZLEtBQU8sRUFDOURDLEVBQVFYLEVBQWFZLFlBQWNULEVBQXNCVSxhQUFlZixFQUFhYSxPQUFTLEVBQzlGRyxFQUFTZCxFQUFhZSxhQUFlWixFQUFzQmEsY0FBZ0JsQixFQUFhZ0IsUUFBVSxFQUNsR1AsRUFBU0ksRUFBUSxFQUFNaEIsRUFBUWdCLE1BQVEsRUFBTU4sRUFDN0NLLEVBQVFJLEVBQVMsRUFBTW5CLEVBQVFtQixPQUFTLEVBQU1OLEVBQzlDUyxFQUFXckIsRUFBS1osVUFBVVksRUFBS04sY0FDbENvQixJQUFLQSxFQUNMSCxLQUFNQSxHQUNKWixJQUNDdUIsRUFBWWxCLEVBQWFtQixLQUFLeEIsRUFBUXlCLElBQUt6QixFQUFRMEIsTUFBT0osRUFNOUQsT0FKSWpCLEdBQWFzQixPQUNoQkosRUFBVUksUUFHSkosUUFHRkssR0FBRyxTQUFTL0QsRUFBUVEsRUFBT0osR0FDakMsWUFFQSxJQUFJTyxHQUFVWCxFQUFRLGFBQ2xCdUIsRUFBVXZCLEVBQVEsYUFPbEJnRSxFQUFVeEQsRUFBT0osVUFTckI0RCxHQUFRQyxJQUFNLFNBQVVwRCxHQUN2QixHQUFJdUIsR0FBT0MsSUFFWCxPQUFJLGdCQUFvQnhCLElBQ3ZCcUQsUUFBUUMsTUFBTXRELEVBQUssMEJBRVp1QixJQUlSekIsRUFBUUMsT0FBT0MsR0FFUnVCLElBVVI0QixFQUFRSSxPQUFTLFNBQVV2RCxHQUMxQixHQUFJdUIsR0FBT0MsS0FDUGdDLEVBQVNqQyxFQUFLcEIsSUFBSUgsRUFFdEIsS0FBS3dELEVBQ0osTUFBT2pDLEVBSVIsS0FBSyxHQUFJa0MsS0FBU0QsR0FBT0UsVUFDeEJGLEVBQU9HLElBQUlGLEVBS1osT0FGQTNELEdBQVFJLFFBQVFGLEdBRVR1QixHQVNSNEIsRUFBUVMsVUFBWSxXQUNuQixHQUFJckMsR0FBT0MsS0FDUHFDLEVBQVV0QyxFQUFLbkIsUUFFbkIsS0FBSyxHQUFJb0QsS0FBVUssR0FDbEJ0QyxFQUFLZ0MsT0FBT0MsRUFHYixPQUFPakMsSUFTUjRCLEVBQVFXLEtBQU8sV0FDZCxHQUFJQSxHQUFPLEVBQ1BELEVBQVVyQyxLQUFLcEIsUUFFbkIsS0FBSyxHQUFJb0QsS0FBVUssR0FDbEJDLEdBR0QsT0FBT0EsSUFTUlgsRUFBUWhELElBQU0sU0FBVUgsR0FDdkIsTUFBT0YsR0FBUUssSUFBSUgsSUFBT3FELFFBQVFDLE1BQU10RCxFQUFLLDRDQVE5Q21ELEVBQVEvQyxPQUFTLFdBQ2hCLE1BQU9OLEdBQVFNLFVBVWhCK0MsRUFBUVksR0FBSyxTQUFVL0QsRUFBSXlELEVBQU9PLEdBQ2pDLEdBQUl6QyxHQUFPQyxLQUNQZ0MsRUFBU2pDLEVBQUtwQixJQUFJSCxFQUV0QixPQUFLd0QsSUFJTEEsRUFBT08sR0FBR04sRUFBT08sR0FFVnpDLEdBTENBLEdBZVQ0QixFQUFRUSxJQUFNLFNBQVUzRCxFQUFJeUQsRUFBT08sR0FDbEMsR0FBSXpDLEdBQU9DLEtBQ1BnQyxFQUFTakMsRUFBS3BCLElBQUlILEVBRXRCLE9BQUt3RCxJQUlMQSxFQUFPRyxJQUFJRixFQUFPTyxHQUVYekMsR0FMQ0EsR0FlVDRCLEVBQVFjLEtBQU8sU0FBVWpFLEVBQUl5RCxFQUFPUyxFQUFRQyxFQUFTQyxHQUNwRCxHQUFJN0MsR0FBT0MsS0FDUGdDLEVBQVNqQyxFQUFLcEIsSUFBSUgsRUFFdEIsT0FBS3dELElBSUxBLEVBQU9TLEtBQUtSLEVBQU9TLEVBQVFDLEVBQVNDLEdBRTdCN0MsR0FMQ0EsR0FhVDRCLEVBQVE5QixXQUFhLFNBQVVDLEdBQzlCLE1BQU9aLEdBQVFXLFdBQVdDLFVBR3hCK0MsWUFBWSxFQUFFQyxZQUFZLElBQUlDLEdBQUcsU0FBU3BGLEVBQVFRLEVBQU9KLEdBQzVELFlBU0EsSUFBSUssR0FBU0QsRUFBT0osUUFBVSxTQUFVUyxHQUN2Q3dCLEtBQUt4QixHQUFLQSxFQUNWd0IsS0FBS2dELE1BQVEsRUFDYmhELEtBQUtrQyxhQVdOOUQsR0FBTzZFLFVBQVVWLEdBQUssU0FBVU4sRUFBT08sR0FDdEMsR0FBSXpDLEdBQU9DLElBRVhELEdBQUttQyxVQUFVRCxHQUFTbEMsRUFBS21DLFVBQVVELE1BRXZDLElBQUlpQixHQUFlLFNBQVVDLEdBQzVCLEdBQUksTUFBUWxCLEVBQ1gsTUFBT08sR0FBU3hFLEtBQUtnQyxLQUFNbUQsRUFHNUIsSUFBSyxjQUFjQyxLQUFLRCxFQUFJRSxNQUE1QixDQUlBLEdBQUlBLEVBRUosS0FDQ0EsRUFBT0MsS0FBS0MsTUFBTUosRUFBSUUsTUFDckIsTUFBT0csR0FDUixPQUdETCxFQUFJTSxXQUFhSixFQUVicEIsSUFBVW9CLEVBQUtLLFNBQVczRCxFQUFLdkIsS0FBTzZFLEVBQUtNLE1BSy9DbkIsRUFBU3hFLEtBQUtnQyxLQUFNbUQsSUFRckIsT0FMQVgsR0FBU29CLFFBQVVWLEVBQWFVLFFBQVU3RCxFQUFLaUQsUUFFL0NqRSxPQUFPOEUsaUJBQWlCLFVBQVdYLEdBQWMsR0FDakRuRCxFQUFLbUMsVUFBVUQsR0FBTzFDLEtBQUsyRCxHQUVwQm5ELEdBV1IzQixFQUFPNkUsVUFBVWQsSUFBTSxTQUFVRixFQUFPTyxHQUl2QyxJQUFLLEdBSER6QyxHQUFPQyxLQUNQa0MsRUFBWW5DLEVBQUttQyxVQUFVRCxPQUV0QnJFLEVBQUksRUFBR0EsRUFBSXNFLEVBQVVqRSxTQUFVTCxFQUNsQzRFLEdBQVlBLEVBQVNvQixVQUFZMUIsRUFBVXRFLEdBQUdnRyxVQUNsRDdFLE9BQU8rRSxvQkFBb0IsVUFBVzVCLEVBQVV0RSxJQUFJLEdBQ3BEc0UsRUFBVTZCLE9BQU9uRyxFQUFHLEtBRWxCQSxFQUlKLE9BQU9tQyxJQWFSM0IsRUFBTzZFLFVBQVVSLEtBQU8sU0FBVVIsRUFBT1MsRUFBUUMsRUFBU0MsR0FDekQsR0FBSTdDLEdBQU9DLElBRVgsUUFBUWdFLE9BQU9mLFVBQVVnQixTQUFTakcsS0FBSzJFLElBQ3RDLElBQUssb0JBR0osTUFGQWQsU0FBUUMsTUFBTWEsRUFBVSx5REFFakI1QyxDQUVSLEtBQUssa0JBQ0o0QyxFQUFRZSxRQUFVekIsRUFDbEJVLEVBQVFnQixLQUFPNUQsRUFBS3ZCLEdBQ3BCbUUsRUFBVVcsS0FBS1ksVUFBVXZCLEVBRXpCLE1BRUQsU0FDQ0EsRUFBVVcsS0FBS1ksV0FDZEMsUUFBU3hCLEVBQ1RnQixLQUFNNUQsRUFBS3ZCLEdBQ1hrRixRQUFTekIsSUFNWixNQUZBUyxHQUFPMEIsWUFBWXpCLEVBQVNDLEdBRXJCN0MsYUFHRyIsImZpbGUiOiJib290c3RyYXAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBQb3N0SXQgPSByZXF1aXJlKCcuL3Bvc3RpdCcpO1xudmFyIGluc3RhbmNlcyA9IHt9O1xuXG4vKipcbiAqIEZhY3RvcnkgTW9kdWxlLlxuICogQHB1YmxpY1xuICovXG5cbnZhciBGYWN0b3J5ID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgYFBvc3RJdGAgZmFjdG9yeSAoU2luZ2xldG9uKS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICogQHJldHVybnMge29iamVjdH1cbiAqIEBwdWJsaWNcbiAqL1xuXG5GYWN0b3J5LmNyZWF0ZSA9IGZ1bmN0aW9uIChpZCkge1xuXHR2YXIgaW5zdGFuY2UgPSBpbnN0YW5jZXNbaWRdO1xuXG5cdC8vIElmIGEgZ2l2ZW4gYGluc3RhbmNlYCBpcyBmb3VuZCwgdXNlIGl0IGFuZCBSRVRVUk4gRUFSTFkuXG5cdGlmIChpbnN0YW5jZSkge1xuXHRcdHJldHVybiBpbnN0YW5jZTtcblx0fVxuXG5cdC8vIE90aGVyd2lzZSwgY3JlYXRlIGEgbmV3IGBpbnN0YW5jZWAgYW5kIHN0b3JlIGl0LlxuXHRyZXR1cm4gKGluc3RhbmNlc1tpZF0gPSBuZXcgUG9zdEl0KGlkKSk7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIGFuIGV4cGxpY2l0IGBQb3N0SXRgLCBmYWN0b3J5IGluc3RhbmNlLlxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBwdWJsaWNcbiAqL1xuXG5GYWN0b3J5LmRlc3Ryb3kgPSBmdW5jdGlvbiAoaWQpIHtcblx0ZGVsZXRlIGluc3RhbmNlc1tpZF07XG59O1xuXG4vKipcbiAqIEdldHMgYW4gZXhwbGljaXQgYFBvc3RJdGAsIGZhY3RvcnkgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKiBAcHVibGljXG4gKi9cblxuRmFjdG9yeS5nZXQgPSBmdW5jdGlvbiAoaWQpIHtcblx0cmV0dXJuIGluc3RhbmNlc1tpZF07XG59O1xuXG4vKipcbiAqIEdldHMgYWxsIGBQb3N0SXRgLCBmYWN0b3J5IGluc3RhbmNlcy5cbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKiBAcHVibGljXG4gKi9cblxuRmFjdG9yeS5nZXRBbGwgPSBmdW5jdGlvbiAoKSB7XG5cdHJldHVybiBpbnN0YW5jZXM7XG59O1xuXG59LHtcIi4vcG9zdGl0XCI6NX1dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEV4cG9zZXMgYFBvc3RJdGAgdG8gdGhlIGdsb2JhbCAoYHdpbmRvd2ApIHNjb3BlLlxuICogQHB1YmxpY1xuICovXG5cbndpbmRvdy5Qb3N0SXQgPSByZXF1aXJlKCcuL21hbmFnZXInKTtcblxufSx7XCIuL21hbmFnZXJcIjo0fV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogSGVscGVycyBNb2R1bGUuXG4gKiBAcHVibGljXG4gKi9cblxudmFyIGhlbHBlcnMgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vKipcbiAqIFNlcmlhbGl6ZSBhbiBvYmplY3QgaW50byBhIGZvcm1hdHRlZCBzdHJpbmcuXG4gKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICogQHB1YmxpY1xuICovXG5cbmhlbHBlcnMuc2VyaWFsaXplID0gZnVuY3Rpb24gKHBhcmFtcykge1xuXHR2YXIgX3BhcmFtcyA9IFtdO1xuXG5cdGZvciAodmFyIHBhcmFtIGluIHBhcmFtcykge1xuXHRcdF9wYXJhbXMucHVzaChwYXJhbSArICc9JyArIHBhcmFtc1twYXJhbV0pO1xuXHR9XG5cblx0cmV0dXJuIF9wYXJhbXMuam9pbignLCAnKTtcbn07XG5cbi8qKlxuICogTWVyZ2VzIGEgc2hhbGxvdyBgc291cmNlYCBvYmplY3QgaW50byB0aGUgYGRlc3RpbmF0aW9uYCBvYmplY3QuXG4gKiBAcGFyYW0ge29iamVjdH0gZGVzdGluYXRpb25cbiAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2VcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKiBAcHVibGljXG4gKi9cblxuaGVscGVycy5zaGFsbG93TWVyZ2UgPSBmdW5jdGlvbiAoZGVzdGluYXRpb24sIHNvdXJjZSkge1xuXHRmb3IgKHZhciBwcm9wIGluIHNvdXJjZSkge1xuXHRcdGlmIChudWxsICE9IHNvdXJjZVtwcm9wXSkge1xuXHRcdFx0ZGVzdGluYXRpb25bcHJvcF0gPSBzb3VyY2VbcHJvcF07XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGRlc3RpbmF0aW9uO1xufTtcblxuLyoqXG4gKiBMb2FkcyBhIHJlc291cmNlIGludG8gYSBuZXcgYnJvd3NpbmcgY29udGV4dCAoYHdpbmRvd2ApLlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3cvb3BlbnxXaW5kb3cub3BlbigpfSBmb3IgbW9yZSBvcHRpb25zLlxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudXJsXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy50aXRsZVxuICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMud2lkdGhcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLmhlaWdodFxuICogQHJldHVybnMge29iamVjdH1cbiAqIEBwdWJsaWNcbiAqL1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuaGVscGVycy5vcGVuV2luZG93ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0dmFyIHRoYXQgPSB0aGlzO1xuXHR2YXIgbmF0aXZlU2NyZWVuID0gc2NyZWVuIHx8IHt9O1xuXHR2YXIgbmF0aXZlV2luZG93ID0gd2luZG93O1xuXHR2YXIgbmF0aXZlRG9jdW1lbnQgPSBkb2N1bWVudDtcblx0dmFyIG5hdGl2ZURvY3VtZW50RWxlbWVudCA9IG5hdGl2ZURvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCB7fTtcblx0dmFyIGR1YWxTY3JlZW5MZWZ0ID0gbmF0aXZlV2luZG93LnNjcmVlbkxlZnQgfHwgbmF0aXZlU2NyZWVuLmxlZnQgfHwgMDtcblx0dmFyIGR1YWxTY3JlZW5Ub3AgPSBuYXRpdmVXaW5kb3cuc2NyZWVuVG9wIHx8IG5hdGl2ZVNjcmVlbi50b3AgfHwgMDtcblx0dmFyIHdpZHRoID0gbmF0aXZlV2luZG93LmlubmVyV2lkdGggfHwgbmF0aXZlRG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIHx8IG5hdGl2ZVNjcmVlbi53aWR0aCB8fCAwO1xuXHR2YXIgaGVpZ2h0ID0gbmF0aXZlV2luZG93LmlubmVySGVpZ2h0IHx8IG5hdGl2ZURvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHwgbmF0aXZlU2NyZWVuLmhlaWdodCB8fCAwO1xuXHR2YXIgbGVmdCA9ICgod2lkdGggLyAyKSAtIChvcHRpb25zLndpZHRoIC8gMikpICsgZHVhbFNjcmVlbkxlZnQ7XG5cdHZhciB0b3AgPSAoKGhlaWdodCAvIDIpIC0gKG9wdGlvbnMuaGVpZ2h0IC8gMikpICsgZHVhbFNjcmVlblRvcDtcblx0dmFyIGZlYXR1cmVzID0gdGhhdC5zZXJpYWxpemUodGhhdC5zaGFsbG93TWVyZ2Uoe1xuXHRcdHRvcDogdG9wLFxuXHRcdGxlZnQ6IGxlZnRcblx0fSwgb3B0aW9ucykpO1xuXHR2YXIgbmV3V2luZG93ID0gbmF0aXZlV2luZG93Lm9wZW4ob3B0aW9ucy51cmwsIG9wdGlvbnMudGl0bGUsIGZlYXR1cmVzKTtcblxuXHRpZiAobmF0aXZlV2luZG93LmZvY3VzKSB7XG5cdFx0bmV3V2luZG93LmZvY3VzKCk7XG5cdH1cblxuXHRyZXR1cm4gbmV3V2luZG93O1xufTtcblxufSx7fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBGYWN0b3J5ID0gcmVxdWlyZSgnLi9mYWN0b3J5Jyk7XG52YXIgaGVscGVycyA9IHJlcXVpcmUoJy4vaGVscGVycycpO1xuXG4vKipcbiAqIE1hbmFnZXIgTW9kdWxlLlxuICogQHB1YmxpY1xuICovXG5cbnZhciBNYW5hZ2VyID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuZCBtYW5hZ2VzIGEgbmV3IGBQb3N0SXRgIGluc3RhbmNlLlxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcmV0dXJucyB7b2JqZWN0fVxuICogQHB1YmxpY1xuICovXG5cbk1hbmFnZXIuYWRkID0gZnVuY3Rpb24gKGlkKSB7XG5cdHZhciB0aGF0ID0gdGhpcztcblxuXHRpZiAoJ3N0cmluZycgIT09IHR5cGVvZiBpZCkge1xuXHRcdGNvbnNvbGUuZXJyb3IoaWQgKyAnIHNob3VsZCBiZSBhIGBTdHJpbmdgLicpO1xuXG5cdFx0cmV0dXJuIHRoYXQ7XG5cdH1cblxuXHQvLyBDcmVhdGUgYSBtZW1vaXplZCBmYWN0b3J5LlxuXHRGYWN0b3J5LmNyZWF0ZShpZCk7XG5cblx0cmV0dXJuIHRoYXQ7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgYW4gZXhwbGljaXQgYFBvc3RJdGAgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKiBAcHVibGljXG4gKi9cblxuTWFuYWdlci5yZW1vdmUgPSBmdW5jdGlvbiAoaWQpIHtcblx0dmFyIHRoYXQgPSB0aGlzO1xuXHR2YXIgcmVjb3JkID0gdGhhdC5nZXQoaWQpO1xuXG5cdGlmICghcmVjb3JkKSB7XG5cdFx0cmV0dXJuIHRoYXQ7XG5cdH1cblxuXHQvLyBSZW1vdmUgbGlzdGVuZXJzIHRvIGF2b2lkIG1lbW9yeSBsZWFrcy5cblx0Zm9yICh2YXIgZXZlbnQgaW4gcmVjb3JkLmxpc3RlbmVycykge1xuXHRcdHJlY29yZC5vZmYoZXZlbnQpO1xuXHR9XG5cblx0RmFjdG9yeS5kZXN0cm95KGlkKTtcblxuXHRyZXR1cm4gdGhhdDtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwgYFBvc3RJdGAgaW5zdGFuY2VzLlxuICogQHJldHVybiB7b2JqZWN0fVxuICogQHB1YmxpY1xuICovXG5cbk1hbmFnZXIucmVtb3ZlQWxsID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgdGhhdCA9IHRoaXM7XG5cdHZhciByZWNvcmRzID0gdGhhdC5nZXRBbGwoKTtcblxuXHRmb3IgKHZhciByZWNvcmQgaW4gcmVjb3Jkcykge1xuXHRcdHRoYXQucmVtb3ZlKHJlY29yZCk7XG5cdH1cblxuXHRyZXR1cm4gdGhhdDtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbGVuZ3RoIG9mIGFsbCBgUG9zdEl0YCBpbnN0YW5jZXMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKiBAcHVibGljXG4gKi9cblxuTWFuYWdlci5zaXplID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgc2l6ZSA9IDA7XG5cdHZhciByZWNvcmRzID0gdGhpcy5nZXRBbGwoKTtcblxuXHRmb3IgKHZhciByZWNvcmQgaW4gcmVjb3Jkcykge1xuXHRcdHNpemUrKztcblx0fVxuXG5cdHJldHVybiBzaXplO1xufTtcblxuLyoqXG4gKiBHZXRzIGFuIGV4cGxpY2l0IGBQb3N0SXRgIGluc3RhbmNlLlxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcmV0dXJucyB7b2JqZWN0fHZvaWR9XG4gKi9cblxuTWFuYWdlci5nZXQgPSBmdW5jdGlvbiAoaWQpIHtcblx0cmV0dXJuIEZhY3RvcnkuZ2V0KGlkKSB8fCBjb25zb2xlLmVycm9yKGlkICsgJyBkb2VzIG5vdCBtYXRjaCBhbnkgYFBvc3RJdGAgaW5zdGFuY2VzLicpO1xufTtcblxuLyoqXG4gKiBHZXRzIGFsbCBgUG9zdEl0YCBpbnN0YW5jZXMuXG4gKiBAcmV0dXJucyB7b2JqZWN0fVxuICovXG5cbk1hbmFnZXIuZ2V0QWxsID0gZnVuY3Rpb24gKCkge1xuXHRyZXR1cm4gRmFjdG9yeS5nZXRBbGwoKTtcbn07XG5cbi8qKlxuICogQHNlZSB7QGxpbmsgcG9zdGl0Lm1kI1Bvc3RJdCtvbn0gZm9yIGZ1cnRoZXIgaW5mb3JtYXRpb24gKHNpZ25hdHVyZSwgZXRjLikuXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKiBAcHVibGljXG4gKi9cblxuTWFuYWdlci5vbiA9IGZ1bmN0aW9uIChpZCwgZXZlbnQsIGxpc3RlbmVyKSB7XG5cdHZhciB0aGF0ID0gdGhpcztcblx0dmFyIHJlY29yZCA9IHRoYXQuZ2V0KGlkKTtcblxuXHRpZiAoIXJlY29yZCkge1xuXHRcdHJldHVybiB0aGF0O1xuXHR9XG5cblx0cmVjb3JkLm9uKGV2ZW50LCBsaXN0ZW5lcik7XG5cblx0cmV0dXJuIHRoYXQ7XG59O1xuXG4vKipcbiAqIEBzZWUge0BsaW5rIHBvc3RpdC5tZCNQb3N0SXQrb2ZmfSBmb3IgZnVydGhlciBpbmZvcm1hdGlvbiAoc2lnbmF0dXJlLCBldGMuKS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICogQHJldHVybnMge29iamVjdH1cbiAqIEBwdWJsaWNcbiAqL1xuXG5NYW5hZ2VyLm9mZiA9IGZ1bmN0aW9uIChpZCwgZXZlbnQsIGxpc3RlbmVyKSB7XG5cdHZhciB0aGF0ID0gdGhpcztcblx0dmFyIHJlY29yZCA9IHRoYXQuZ2V0KGlkKTtcblxuXHRpZiAoIXJlY29yZCkge1xuXHRcdHJldHVybiB0aGF0O1xuXHR9XG5cblx0cmVjb3JkLm9mZihldmVudCwgbGlzdGVuZXIpO1xuXG5cdHJldHVybiB0aGF0O1xufTtcblxuLyoqXG4gKiBAc2VlIHtAbGluayBwb3N0aXQubWQjUG9zdEl0K2VtaXR9IGZvciBmdXJ0aGVyIGluZm9ybWF0aW9uIChzaWduYXR1cmUsIGV0Yy4pLlxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcmV0dXJucyB7b2JqZWN0fVxuICogQHB1YmxpY1xuICovXG5cbk1hbmFnZXIuZW1pdCA9IGZ1bmN0aW9uIChpZCwgZXZlbnQsIHRhcmdldCwgbWVzc2FnZSwgb3JpZ2luKSB7XG5cdHZhciB0aGF0ID0gdGhpcztcblx0dmFyIHJlY29yZCA9IHRoYXQuZ2V0KGlkKTtcblxuXHRpZiAoIXJlY29yZCkge1xuXHRcdHJldHVybiB0aGF0O1xuXHR9XG5cblx0cmVjb3JkLmVtaXQoZXZlbnQsIHRhcmdldCwgbWVzc2FnZSwgb3JpZ2luKTtcblxuXHRyZXR1cm4gdGhhdDtcbn07XG5cbi8qKlxuICogQHNlZSB7QGxpbmsgaGVscGVycy5tZCNoZWxwZXJzLm9wZW5XaW5kb3d9IGZvciBmdXJ0aGVyIGluZm9ybWF0aW9uIChzaWduYXR1cmUsIGV0Yy4pLlxuICogQHB1YmxpY1xuICovXG5cbk1hbmFnZXIub3BlbldpbmRvdyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdHJldHVybiBoZWxwZXJzLm9wZW5XaW5kb3cob3B0aW9ucyB8fCB7fSk7XG59O1xuXG59LHtcIi4vZmFjdG9yeVwiOjEsXCIuL2hlbHBlcnNcIjozfV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogUG9zdEl0IE1vZHVsZS5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcHVibGljXG4gKi9cblxudmFyIFBvc3RJdCA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGlkKSB7XG5cdHRoaXMuaWQgPSBpZDtcblx0dGhpcy50b2tlbiA9IDA7XG5cdHRoaXMubGlzdGVuZXJzID0ge307XG59O1xuXG4vKipcbiAqIFJlZ2lzdGVycyBgLnBvc3RNZXNzYWdlYCBldmVudCBsaXN0ZW5lcnMuXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpc3RlbmVyXG4gKiBAcmV0dXJucyB7b2JqZWN0fVxuICogQHB1YmxpY1xuICovXG5cblBvc3RJdC5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoZXZlbnQsIGxpc3RlbmVyKSB7XG5cdHZhciB0aGF0ID0gdGhpcztcblxuXHR0aGF0Lmxpc3RlbmVyc1tldmVudF0gPSB0aGF0Lmxpc3RlbmVyc1tldmVudF0gfHwgW107XG5cblx0dmFyIHdyYXBMaXN0ZW5lciA9IGZ1bmN0aW9uIChldnQpIHtcblx0XHRpZiAoJyonID09PSBldmVudCkge1xuXHRcdFx0cmV0dXJuIGxpc3RlbmVyLmNhbGwodGhpcywgZXZ0KTtcblx0XHR9XG5cblx0XHRpZiAoIS9fX2V2ZW50XFxzP1wiLy50ZXN0KGV2dC5kYXRhKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBkYXRhO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGRhdGEgPSBKU09OLnBhcnNlKGV2dC5kYXRhKTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRldnQuZGF0YVBhcnNlZCA9IGRhdGE7XG5cblx0XHRpZiAoZXZlbnQgIT09IGRhdGEuX19ldmVudCB8fCB0aGF0LmlkICE9PSBkYXRhLl9faWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBSZXRhaW4gdGhlIG9yaWdpbmFsIGB0aGlzYCBzY29wZS5cblx0XHRsaXN0ZW5lci5jYWxsKHRoaXMsIGV2dCk7XG5cdH07XG5cblx0bGlzdGVuZXIuX190b2tlbiA9IHdyYXBMaXN0ZW5lci5fX3Rva2VuID0gdGhhdC50b2tlbisrO1xuXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgd3JhcExpc3RlbmVyLCBmYWxzZSk7XG5cdHRoYXQubGlzdGVuZXJzW2V2ZW50XS5wdXNoKHdyYXBMaXN0ZW5lcik7XG5cblx0cmV0dXJuIHRoYXQ7XG59O1xuXG4vKipcbiAqIFVucmVnaXN0ZXJzIChhbGwgfCBleHBsaWNpdCkgYC5wb3N0TWVzc2FnZWAgZXZlbnQgbGlzdGVuZXJzLlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge2Z1bmN0aW9uPX0gbGlzdGVuZXJcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKiBAcHVibGljXG4gKi9cblxuUG9zdEl0LnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoZXZlbnQsIGxpc3RlbmVyKSB7XG5cdHZhciB0aGF0ID0gdGhpcztcblx0dmFyIGxpc3RlbmVycyA9IHRoYXQubGlzdGVuZXJzW2V2ZW50XSB8fCBbXTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7ICsraSkge1xuXHRcdGlmICghbGlzdGVuZXIgfHwgbGlzdGVuZXIuX190b2tlbiA9PT0gbGlzdGVuZXJzW2ldLl9fdG9rZW4pIHtcblx0XHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbGlzdGVuZXJzW2ldLCBmYWxzZSk7XG5cdFx0XHRsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuXG5cdFx0XHQtLWk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRoYXQ7XG59O1xuXG4vKipcbiAqIEVtaXRzIGV4cGxpY2l0IGBtZXNzYWdlYCBldmVudHMsIHVzaW5nIHRoZSBjbGllbnQncyBgLnBvc3RNZXNzYWdlYCBlbWl0dGVyLlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge29iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0ge3N0cmluZ3xhcnJheXxvYmplY3R9IG1lc3NhZ2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcmlnaW5cbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKiBAcHVibGljXG4gKi9cblxuUG9zdEl0LnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKGV2ZW50LCB0YXJnZXQsIG1lc3NhZ2UsIG9yaWdpbikge1xuXHR2YXIgdGhhdCA9IHRoaXM7XG5cblx0c3dpdGNoIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobWVzc2FnZSkpIHtcblx0XHRjYXNlICdbb2JqZWN0IEZ1bmN0aW9uXSc6XG5cdFx0XHRjb25zb2xlLmVycm9yKG1lc3NhZ2UgKyAnIHNob3VsZCBlaXRoZXIgYmUgYW4gYE9iamVjdGAsIGBBcnJheWAgb3IgYSBgU3RyaW5nYC4nKTtcblxuXHRcdFx0cmV0dXJuIHRoYXQ7XG5cblx0XHRjYXNlICdbb2JqZWN0IE9iamVjdF0nOlxuXHRcdFx0bWVzc2FnZS5fX2V2ZW50ID0gZXZlbnQ7XG5cdFx0XHRtZXNzYWdlLl9faWQgPSB0aGF0LmlkO1xuXHRcdFx0bWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpO1xuXG5cdFx0XHRicmVhaztcblxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRtZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRfX3ZhbHVlOiBtZXNzYWdlLFxuXHRcdFx0XHRfX2lkOiB0aGF0LmlkLFxuXHRcdFx0XHRfX2V2ZW50OiBldmVudFxuXHRcdFx0fSk7XG5cdH1cblxuXHR0YXJnZXQucG9zdE1lc3NhZ2UobWVzc2FnZSwgb3JpZ2luKTtcblxuXHRyZXR1cm4gdGhhdDtcbn07XG5cbn0se31dfSx7fSxbMl0pIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9