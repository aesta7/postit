/*
 * PostIt v1.1.6
 * Copyright 2016 coopersemantics
 * Available under MIT license <https://github.com/outbrain/postit/blob/master/LICENSE>
 * @Date Wed May 25 2016 19:52:22 GMT-0400 (EDT)
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.PostIt=e()}}(function(){return function e(t,n,r){function i(s,u){if(!n[s]){if(!t[s]){var f="function"==typeof require&&require;if(!u&&f)return f(s,!0);if(o)return o(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";var r=e("./postit"),i={},o=t.exports={};o.add=function(e){var t=i[e];return t?t:i[e]=new r(e)},o.remove=function(e){delete i[e]},o.get=function(e){return i[e]},o.getAll=function(){return i}},{"./postit":4}],2:[function(e,t,n){"use strict";var r=t.exports={};r.serialize=function(e){var t=[];for(var n in e)t.push(n+"="+e[n]);return t.join(", ")},r.shallowMerge=function(e,t){for(var n in t)null!=t[n]&&(e[n]=t[n]);return e},r.openWindow=function(e,t,n){n=n||{};var r=this,i=screen||{},o=window,s=document,u=s.documentElement||{},f=o.screenLeft||i.left||0,a=o.screenTop||i.top||0,c=o.innerWidth||u.clientWidth||i.width||0,l=o.innerHeight||u.clientHeight||i.height||0,d=c/2-n.width/2+f,p=l/2-n.height/2+a,h=r.serialize(r.shallowMerge({top:p,left:d},n)),g=o.open(e,t,h);return o.focus&&g.focus(),g}},{}],3:[function(e,t,n){"use strict";var r=e("./factory"),i=e("./helpers"),o=t.exports={};o.add=function(e){var t=this;return"string"!=typeof e?(console.warn(e+" should be a `String`."),t):(r.add(e),t)},o.remove=function(e){var t=this,n=t.get(e);if(!n)return t;for(var i in n.listeners)n.off(i);return r.remove(e),t},o.removeAll=function(){var e=this,t=e.getAll();for(var n in t)e.remove(n);return e},o.size=function(){var e=0,t=this.getAll();for(var n in t)e++;return e},o.get=function(e){return r.get(e)||console.warn(e+" does not match any `PostIt` instances.")},o.getAll=function(){return r.getAll()},o.on=function(e,t,n){var r=this,i=r.get(e);return i?(i.on(t,n),r):r},o.off=function(e,t,n){var r=this,i=r.get(e);return i?(i.off(t,n),r):r},o.emit=function(e,t,n,r,i){var o=this,s=o.get(e);return s?(s.emit(t,n,r,i),o):o},o.openWindow=function(e,t,n){return i.openWindow(e,t,n)}},{"./factory":1,"./helpers":2}],4:[function(e,t,n){"use strict";var r=t.exports=function(e){this.id=e,this.nextGuid=0,this.listeners={}};r.prototype.on=function(e,t){function n(t){var n=null;if(/__postit\s?"/.test(t.data))try{n=t.dataParsed=JSON.parse(t.data)}catch(o){console.error(o)}if(!(!n||r.id!==n.__id||e!==n.__event&&"*"!==e||"null"!==t.origin&&-1===n.__origin.indexOf(t.origin)))for(var s=0;s<i.length;++s)i[s].call(this,t)}var r=this,i=r.listeners[e]=r.listeners[e]||[];return t.guid=r.nextGuid++,i.dispatcher=n,i.push(t),1===i.length&&window.addEventListener("message",n,!1),r},r.prototype.off=function(e,t){for(var n=this,r=n.listeners[e]||[],i=0;i<r.length;++i)t&&t.guid!==r[i].guid||r.splice(i--,1);return r.length||(window.removeEventListener("message",r.dispatcher,!1),delete n.listeners[e]),n},r.prototype.emit=function(e,t,n,r){var i=this,o=window.location.href,s="postit";switch(Object.prototype.toString.call(n)){case"[object Function]":return console.warn(n+" should either be an `Object`, `Array` or `String`."),i;case"[object Object]":n.__postit=s,n.__id=i.id,n.__event=e,n.__origin=o,n=JSON.stringify(n);break;default:n=JSON.stringify({__postit:s,__value:n,__id:i.id,__event:e,__origin:o})}return t.postMessage(n,r),i}},{}]},{},[3])(3)});
//# sourceMappingURL=postit.js.map
